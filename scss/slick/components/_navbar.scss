/** Navbar **/

//Default navbar properties
$defaultBgColour: #ffffff;
$defaultDropBgColour: #B2B2B2;
$defaultHoverBgColour: #B2B2B2;
$defaultHoverBg: linear-gradient(to bottom, $defaultBgColour, $defaultBgColour 50%, $defaultHoverBgColour 50%, $defaultHoverBgColour);
$defaultCollapseBg: url(data:image/gif;base64,R0lGODlhGgAUAIABALKysv///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc5REI0Njc0QkRCRTExRTNCOTJCQzRGQjVBQkUwRTA1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjc5REI0Njc1QkRCRTExRTNCOTJCQzRGQjVBQkUwRTA1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzlEQjQ2NzJCREJFMTFFM0I5MkJDNEZCNUFCRTBFMDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzlEQjQ2NzNCREJFMTFFM0I5MkJDNEZCNUFCRTBFMDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQBAAABACwAAAAAGgAUAAACIISPqcvtD2MMtNqLs968+/9J4kiWZgKm6sq21wnHclkAADs=);
$defaultHoverCollapseBg: url(data:image/gif;base64,R0lGODlhGgAUAIABAP///////yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY5M0VCQTFBQkRCRTExRTNBQTIzQUE5MjA3NDNFMURGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY5M0VCQTFCQkRCRTExRTNBQTIzQUE5MjA3NDNFMURGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjkzRUJBMThCREJFMTFFM0FBMjNBQTkyMDc0M0UxREYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjkzRUJBMTlCREJFMTFFM0FBMjNBQTkyMDc0M0UxREYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQBAAABACwAAAAAGgAUAAACIISPqcvtD2MMtNqLs968+/9J4kiWZgKm6sq21wnHclkAADs=);

//Dark navbar theme properties
$darkBgColour: #232323;
$darkDropBgColour: #5d5d5d;
$darkHoverBgColour: #5d5d5d;
$darkHoverBg: linear-gradient(to bottom, $darkBgColour, $darkBgColour 50%, $darkHoverBgColour 50%, $darkHoverBgColour);
$darkCollapseBg: url(data:image/gif;base64,R0lGODlhGgAUAIABAF1dXf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRFNjQwNERGQkRCQzExRTM5NDA1RjY1RERFMUM3MDhCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRFNjQwNEUwQkRCQzExRTM5NDA1RjY1RERFMUM3MDhCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6REU2NDA0RERCREJDMTFFMzk0MDVGNjVEREUxQzcwOEIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6REU2NDA0REVCREJDMTFFMzk0MDVGNjVEREUxQzcwOEIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQBAAABACwAAAAAGgAUAAACIISPqcvtD2MMtNqLs968+/9J4kiWZgKm6sq21wnHclkAADs=);
$darkHoveCollapseBg:url(data:image/gif;base64,R0lGODlhGgAUAIABACMjI////yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM2NDI5NzY4QkRCQzExRTM5QTlERjc1MTYwNkRFQUZFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM2NDI5NzY5QkRCQzExRTM5QTlERjc1MTYwNkRFQUZFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzY0Mjk3NjZCREJDMTFFMzlBOURGNzUxNjA2REVBRkUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzY0Mjk3NjdCREJDMTFFMzlBOURGNzUxNjA2REVBRkUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQBAAABACwAAAAAGgAUAAACIISPqcvtD2MMtNqLs968+/9J4kiWZgKm6sq21wnHclkAADs=);

div.navbar {
  width: 100%;
  height: 50px;
  background: $defaultBgColour;

  font-family: 'Lato', sans-serif;
  color: $defaultHoverBgColour;
  border-bottom: 1px solid darken(#ffffff, 20%);

  a.brand {
    float: left;
    line-height: 50px;
    padding: 0 15px;
    vertical-align: middle;
    background: $defaultHoverBg;
    background-position: 0 -100%;
    background-size: 100% 120%;
    transition: background-size .1s ease-in-out, background-position .1s ease-in-out;

    &:hover {
      cursor: pointer;
      background: $defaultHoverBgColour;
      background: $defaultHoverBg;
      color: $defaultBgColour;
      background-size: 100% 200%;
      background-position: 0 -100%;
    }
  }

  a.collapse {
    display: none;
  }
  ul {
    background: $defaultBgColour;

    list-style: none;
    padding: 0;
    margin: 0;
    float: left;

    li {
      display: block;
      position: relative;
      background: $defaultHoverBg;
      background-position: 0 0;
      background-size: 100% 200%;
      transition: background-position .1s ease-in-out;
      float: left;

      a {
        height: 50px;
        width: 100%;
        padding: 15px;

        line-height: 50px;
        vertical-align: middle;
        text-align: center;
      }

      ul {
        display: none;
        position: absolute;
        top: 50px;
        left: 0;
        min-width: 150px;
        color: #000000;
        background: #ffffff;
        white-space: nowrap;
        padding: 10px 0;
        animation: top-level-slide-in 0.3s;
        -webkit-animation: top-level-slide-in 0.3s;
        border: 1px solid darken(#ffffff, 20%);
        border-radius: 0 0 3px 3px;
        li {
          display: block;
          float: none;
          background: none;
          a {
            background: none;
            font-size: 16px;
            line-height: 25px;
          }
          &:hover {
            background: darken(#ffffff, 20%);
            color: #000000;
            transition: background 0.3s ease-in-out;
          }
        }
        ul {
          top: -11px;
          left: 100%;
          animation: nested-slide-in 0.3s;
          -webkit-animation: nested-slide-in 0.3s;
        }
      }

      &:hover {
        cursor: pointer;
        background: $defaultHoverBgColour;
        background: $defaultHoverBg;
        color: $defaultHoverBgColour;
        background-position: 0 -20%;
        background-size: 100% 200%;
      }

    }

    &.right {
      float: right;
    }
  }

  &.fixed {
    position: fixed;
    top: 0;
    left: 0;

    border-radius: 0;
  }

  &.respond {
    @media (max-width: $break-medium) {
      ul {
        background: $defaultBgColour;
        width: 100%;
        list-style: none;
        display: none;
        padding: 0;
        float: left !important;
        animation: none;
        -webkit-animation: none;
        max-height: 250px;
        overflow-y: auto;
        overflow-x: hidden;
        border: 1px solid darken($defaultBgColour, 20%);
        border-top: none;

        &:first-of-type {
          border-top: 1px solid darken($defaultBgColour, 20%);
        }

        li {
          display: block;
          width: 100%;
          position: relative;
          background: none;

          a {
            height: 50px;
            width: 100%;
            padding: 15px;

            line-height: 50px;
            vertical-align: middle;
            text-align: center;
            &:hover {
              color: $defaultHoverBgColour;
            }
          }

          ul {
            text-indent: 2%;
            display: none;
            border: none;
            position: relative;
            top: 0;
            left: 0;
            padding: 0;
            color: #ffffff;
            float: none;
            background: $defaultDropBgColour;
            white-space: nowrap;
            animation: none;
            overflow: visible;
            max-height: none;
            border-radius: 0;
            -webkit-animation: none;
            border: none;

            li {
              &:hover {
                background: none;
                color: $defaultBgColour;
                transition: none;
              }
              a:hover {
                background: none;
                color: $defaultBgColour;
                transition: none;
              }
            }

            ul {
              text-indent: 5%;
              position: relative;
              top: 0;
              left: 0;
              float: none;
              overflow: visible;
              max-height: none;
              animation: none;
              border: none;
              border-radius: 0;
              -webkit-animation: none;
              li:hover {
                background: $defaultDropBgColour;
                color: #ffffff;
                transition: none;
              }
            }
          }
        }
      }

      a.collapse {
        display: block;
        width: 40px;
        height: 40px;
        padding: 5px;
        float: right;
        background-size: 32px 24px;
        background-position: 10px 50%;
        background-repeat: no-repeat;
        background-image: $defaultCollapseBg;
        transition: background-image ease-in 0.3s, background-color ease-in 0.3s;
        cursor: pointer;

        &:hover {
          background-image: $defaultHoverCollapseBg;
          background-color: $defaultHoverBgColour;
        }
      }
    }
  }

  /** Navbar themes */
  &.dark {
    background: $darkBgColour;
    color: $darkHoverBgColour;
    a.brand {
      background: $darkHoverBg;
      background-position: 0 -100%;
      background-size: 100% 120%;

      &:hover {
        cursor: pointer;
        background: $darkHoverBgColour;
        background: $darkHoverBg;
        color: $darkBgColour;
        background-size: 100% 200%;
        background-position: 0 -100%;
      }
    }

    ul {
      background: $darkBgColour;
      li {
        background: $darkHoverBg;
        background-position: 0 0;
        background-size: 100% 200%;

        ul {
          color: #000000;
          background: #ffffff;
          li {
            background: none;
            a {
              background: none;
            }
            &:hover {
              background: darken(#ffffff, 20%);
              color: #000000;
            }
          }
        }

        &:hover {
          background: $darkHoverBgColour;
          background: $darkHoverBg;
          color: $darkHoverBgColour;
          background-position: 0 -20%;
          background-size: 100% 200%;
        }
      }
    }

    &.respond {
      @media (max-width: $break-medium) {
        ul {
          background: $darkBgColour;
          border: 1px solid darken($darkBgColour, 20%);
          border-top: none;

          &:first-of-type {
            border-top: 1px solid darken($darkBgColour, 20%);
          }

          li {
            background: none;
            a:hover {
              background: none;
              color: $darkHoverBgColour;
            }

            ul {
              color: #ffffff;
              background: $darkDropBgColour;
              border: none;

              li {
                background: none;
                &:hover {
                  background: none;
                  color: $darkBgColour;
                }
                a:hover {
                  background: none;
                  color: $darkBgColour;
                }
              }

              ul {
                border: none;
                li:hover {
                  background: none;
                  color: #ffffff;
                  a:hover {
                    background: none;
                  }
                }
              }
            }
          }
        }
        a.collapse {
          background: $darkCollapseBg;
          background-size: 32px 24px;
          background-position: 10px 50%;
          background-repeat: no-repeat;
          &:hover {
            background: $darkHoveCollapseBg;
            background-color: $darkHoverBgColour;
            background-size: 32px 24px;
            background-position: 10px 50%;
            background-repeat: no-repeat;
          }
        }
      }
    }
  }
}

@include keyframes(top-level-slide-in) {
  from {
    opacity: 0;
    top: 34px;
  }
  to {
    opacity: 1;
    top: 50px;
  }
}

@include keyframes(nested-slide-in) {
  from {
    opacity: 0;
    top: -18px;
  }
  to {
    opacity: 1;
    top: -11px;
  }
}